
# ‚úÖ N√°vod: Bootov√°n√≠ Raspberry Pi 5 z NVMe SSD, USB SSD a SD karty

Tento n√°vod popisuje, jak nastavit bootov√°n√≠ Raspberry Pi 5 z **NVMe SSD (UEFI)** a pou≈æ√≠vat **GRUB** pro v√Ωbƒõr OS mezi NVMe SSD, USB SSD a SD kartou.

---

## üõ† Po≈æadavky
- Raspberry Pi 5
- NVMe SSD s adapt√©rem (nap≈ô. M.2 PCIe to USB)
- USB SSD s OS (nap≈ô. Ubuntu, Arch Linux)
- SD karta se z√°lo≈æn√≠m OS (nap≈ô. Raspberry Pi OS)
- Raspberry Pi Imager

---

## 1Ô∏è‚É£ Instalace UEFI na NVMe SSD
1. **P≈ôipoj NVMe SSD a SD kartu k Raspberry Pi 5.**
2. Flashni Raspberry Pi OS (Lite) na SD kartu pomoc√≠ Raspberry Pi Imager.
3. Spus≈• Raspberry Pi z SD karty a aktualizuj firmware:
   ```bash
   sudo apt update && sudo apt full-upgrade -y
   sudo rpi-eeprom-update -a
   sudo reboot
   ```
4. **Naform√°tuj NVMe SSD na GPT a vytvo≈ô EFI odd√≠l (512 MB, FAT32):**
   ```bash
   sudo fdisk /dev/nvme0n1
   ```
5. St√°hni UEFI firmware:
   ```bash
   git clone --depth=1 https://github.com/pftf/RPi5.git
   sudo cp -r RPi5/* /boot/efi/
   ```

---

## 2Ô∏è‚É£ Instalace GRUB na NVMe SSD
1. Bootuj do Raspberry Pi OS (na NVMe nebo SD kartƒõ).
2. Nainstaluj GRUB:
   ```bash
   sudo apt install grub-efi
   sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi
   sudo update-grub
   ```

---

## 3Ô∏è‚É£ P≈ôid√°n√≠ USB SSD a SD karty do GRUB menu
Pokud GRUB nedetekuje OS na USB SSD nebo SD kartƒõ, p≈ôidej je ruƒçnƒõ:
```bash
sudo nano /etc/grub.d/40_custom
```
P≈ôidej z√°znamy:
```bash
menuentry "Ubuntu (USB SSD)" {
    set root=(hd1,gpt2)
    linux /boot/vmlinuz-linux root=/dev/sdb2 rw
    initrd /boot/initramfs-linux.img
}

menuentry "Raspberry Pi OS (SD Card)" {
    set root=(hd2,gpt2)
    linux /boot/vmlinuz-linux root=/dev/mmcblk0p2 rw
    initrd /boot/initrd.img
}
```
Ulo≈æ (`CTRL+X`, `Y`, `ENTER`) a aktualizuj GRUB:
```bash
sudo update-grub
```

---

## üîπ Jak to funguje?
1. **Pi startuje ‚Üí UEFI Boot Manager** ‚Üí Pokud nestiskne≈° ESC, nabootuje GRUB na NVMe SSD.
2. **GRUB zobraz√≠ OS na NVMe, USB SSD a SD kartƒõ.**
3. **Pokud vypne≈° NVMe SSD, Pi se pokus√≠ bootovat z USB SSD nebo SD karty.**

---

## üîπ V√Ωhody ≈ôe≈°en√≠
‚úÖ **Rychl√Ω boot z NVMe SSD (UEFI)**  
‚úÖ **GRUB umo≈æn√≠ v√Ωbƒõr OS z NVMe, USB SSD a SD karty**  
‚úÖ **Mo≈ænost snadn√©ho p≈ôid√°n√≠ dal≈°√≠ch OS**  
‚úÖ **Z√°lo≈æn√≠ SD karta jako recovery syst√©m**  

---

**Hotovo!** üéâ Tv≈Øj Raspberry Pi 5 nyn√≠ podporuje multiboot mezi r≈Øzn√Ωmi √∫lo≈æi≈°ti.
