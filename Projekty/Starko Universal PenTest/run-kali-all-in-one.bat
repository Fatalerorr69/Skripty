@echo off
REM ==========================================
REM Spouští Kali Linux z virtuálního disku
REM Skript pro spuštění bez sdílení složek (virtfs)
REM ==========================================

REM === Uživatelské nastavení ===
REM !!! Zde zadejte cestu k vašemu souboru s virtuálním diskem (.qcow2 nebo .img) !!!
set DISK_PATH=X:\kali-linux.qcow2
set RAM=8200
set CPU=3

REM === Kontrola existence virtuálního disku ===
if not exist "%DISK_PATH%" (
    echo.
    echo CHYBA: Soubor s virtualnim diskem nebyl nalezen.
    echo Vytvorte si ho pomoci qemu-img create nebo si stahnete obraz z https://www.kali.org/get-kali/#kali-virtual-machines
    echo.
    pause
    exit /b 1
)

REM === Spuštění QEMU s parametry pro virtuální disk ===
echo.
echo Spoustim Kali Linux ve QEMU...
"C:\Program Files\qemu\qemu-system-x86_64.exe" ^
 -m %RAM% ^
 -smp %CPU% ^
 -drive file=%DISK_PATH%,format=qcow2 ^
 -boot c ^
 -net nic -net user,hostfwd=tcp::2222-:22 ^
 -display sdl ^
 -vga qxl

echo.
pause