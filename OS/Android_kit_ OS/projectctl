#!/bin/bash

# === COLORS ===
GREEN="\e[32m"; RED="\e[31m"; YELLOW="\e[33m"; RESET="\e[0m"

# === USAGE ===
if [[ $# -lt 2 ]]; then
  echo -e "${YELLOW}Pou≈æit√≠:${RESET} projectctl <projekt> <setup|launch|snapshot>"
  exit 1
fi

PROJECT=$1
ACTION=$2
BASE="/srv/machines/${PROJECT}"
SCRIPT="${BASE}/scripts/${ACTION}.sh"

# === CHECK ===
if [[ ! -f "$SCRIPT" ]]; then
  echo -e "${RED}‚ùå Skript '${ACTION}.sh' pro projekt '${PROJECT}' nenalezen.${RESET}"
  exit 1
fi

# === EXECUTE ===
echo -e "${GREEN}üöÄ Spou≈°t√≠m '${ACTION}' pro projekt '${PROJECT}'...${RESET}"
bash "$SCRIPT"